<div *ngIf="response != null">
<div class=" container" *ngIf="showSummary">
<h2 style="text-align: center" *ngIf="showSummary && response.customerType === 'Private'"><b>Customer: </b>{{response.firstName}} {{response.lastName}}</h2>
<h2 style="text-align: center" *ngIf="showSummary && response.customerType === 'Business'"><b>Customer: </b>{{response.companyName}} {{response.companyCode}}</h2>
  <h3 style="text-align: center"><b>Application status: </b>{{response.applicationStatus}}</h3>
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"></div>
  <div  id="summary" class="container col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px">
 <div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
   <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>CUSTOMER TYPE </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.customerType}}</div>
</div>
<div class="row second col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div  class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>ASSET TYPE </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.assetType}}</div>
</div>
<!--a-->
<div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>BRAND </b></div>
  <div class="col-lg-2  col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.brand}}</div>
</div>
<div class="row second col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>MODEL </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.model}}</div>
</div>
<div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>YEAR </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.year}}</div>
</div>
<div class="row second col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>ENGINE POWER </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.enginePower}} kW</div>
</div>
<div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>ASSET PRICE </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv"> {{response.assetPrice}} €</div>
</div>
<div class="row second col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class=" col-lg-10  col-md-10 col-sm-10 col-xs-10"><b>ADVANCE PAYMENT PERCENTAGE </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.advancePaymentPercentage}} %</div>
</div>
<div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>ADVANCE PAYMENT AMOUNT </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.advancePaymentAmount}} €</div>
</div>
<div class="row second col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>LEASE PERIOD </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.leasePeriod}}</div>
</div>
<div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>MARGIN </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.margin}} %</div>
</div>
<div class="row second col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>CONTRACT FEE </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.contractFee}} €</div>
</div>
<div class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>PAYMENT DAY </b></div>
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{response.paymentDate}}</div>
</div>
          <div *ngIf="scheduleResponse != null && response.applicationStatus != 'declined'" class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12"><b>TOTAL MONTHLY PAYMENT </b></div>
            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 borderdiv">{{scheduleResponse[0].totalPaymentAmount.toFixed(2)}}</div>
          </div>
    <!--<div *ngIf="scheduleResponse != null && response.applicationStatus == 'pending'" class="row first col-lg-12 col-md-12 col-sm-12 col-xs-12">-->
      <!--<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"><b>PROVISIONAL TOTAL MONTHLY PAYMENT </b></div>-->
      <!--<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 borderdiv">{{scheduleResponse[0].totalPaymentAmount.toFixed(2)}}</div>-->
    <!--</div>-->
  </div>
<div class="status_div col-lg-12 col-md-12 col-sm-12 col-xs-12" *ngIf="showSummary && infoIsShown && isError">
  <h3>Application not found.</h3>
</div>


</div>
  <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12"></div>
</div>

  <div style="text-align: center; padding-right: 33px;">
    <button id="schedule_div" *ngIf="!isScheduleError && (response.applicationStatus == 'pending' || response.applicationStatus == 'approved')" style=" background-color: #550c27" type="button" class="btn btn-lg btn-primary" (click)="onCalendarClick()" data-toggle="collapse" data-target="#calendar_div">{{buttonText}}</button>
  </div>

<!--<h3 *ngIf="!isScheduleError && response.applicationStatus == 'approved'" >Payment schedule :</h3>-->

<div id="calendar_div" style="padding-left: 15%" class="collapse pre-scrollable" *ngIf=" !isScheduleError && (response.applicationStatus == 'pending' || response.applicationStatus == 'approved')">

  <table class="table table-dark">
    <thead>
    <tr>
      <th scope="col">Date</th>
      <th scope="col">Balance</th>
      <th scope="col">Principal Repayment</th>
      <th scope="col">Interest Payment</th>
      <th scope="col">Total Monthly Payment</th>
    </tr>
    </thead>

    <tbody *ngFor="let payment of scheduleResponse">

    <tr>
      <td>{{payment.date.substring(0, 10)}}</td>
      <td>{{payment.unpaidAssetAmount.toFixed(2)}}</td>
      <td>{{payment.unpaidAssetRepaymentAmount.toFixed(2)}}</td>
      <td>{{payment.interestAmount.toFixed(2)}}</td>
      <td>{{payment.totalPaymentAmount.toFixed(2)}}</td>
    </tr>


    </tbody>

  </table>
</div>

  <div style="margin-bottom: 60px; padding-right: 50px; text-align: center" *ngIf="response.applicationStatus == 'pending'">
    <button id="approve" class="btn btn-lg btn-primary" type="submit" (click)="approveLease()">APPROVE</button>
    <button id="deny" class="btn btn-lg btn-primary" type="submit" (click)="declineLease()">DECLINE</button>
  </div>

<div class="back">
  <button style=" background-color: #550c27" class="btn btn-lg btn-primary" routerLink='/leasingOfficer'>BACK</button>
</div>
</div>
